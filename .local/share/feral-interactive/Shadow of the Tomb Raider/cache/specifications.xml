<?xml version="1.0" encoding="UTF-8" ?>
<gameinfo>

	<!-- GAME INFO START -->

	<!-- *** DO NOT EDIT ANYTHING IN THIS SECTION - AUTO GENERATED FROM GAME INFO *** -->

	<spec>
		<regkey>
			<value name="DonePromotional"     type="integer">0</value>
			<value name="DoneUnsupported"     type="integer">0</value>
			<value name="DoneMinOS"           type="integer">0</value>
		</regkey>
	</spec>


	<date>20191206090800</date>
	
	<!-- Generated from CustomSpecifications_shared.xml -->

<spec>
	<!-- Update UUID name when making additions -->
	<uuid>PerRendererMappedSettingsV7</uuid>

	<regkey path="AutoValueRemap\GPURemap\keys">
		<value name="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics" type="integer"> 1 </value>
	</regkey>
	<regkey path="AutoValueRemap\GPURemap\values">
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\AvoidR11G11B10FloatRWUAV" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\AvoidR16FloatRWUAV" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\AvoidSIMDGroupReductions" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\CausticsRenderMode" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\DisableDynamicPoolGPUCopy" type="integer">1</value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\DisableVolumetricLightBlur" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\DrawcallCountPerContext" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\EnableAsyncCompute" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\EnableCopyQueues" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\ExposureRenderMode" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\InsertDPLBarrier" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\LowestLODBias" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\LowestLODScale" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\LowQualityBlendshapes" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\LowQualityParticleLighting" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\LowQualityTransparencyUpscale" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\MaxHeapPooledAllocSize" type="integer">1</value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\MaxTextureQuality" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\MergePostProcessing" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\OnePassHistogram" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\PredatorRenderMode" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\ReduceVolumetricLightingResolution" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\RestrictThreadGroupSize" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\SkipInteriorPass" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\STR371Workaround" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\UseAMDGatherWorkaround" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\UseAMDTempVariablesWorkaround" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\UseIntelManualDotProductWorkaround" type="integer"> 1 </value>
		<value name="Software\Feral Interactive\Shadow of the Tomb Raider\Setup\UseMSAADepthBufferWithShaderWrite" type="integer"> 1 </value>
	</regkey>
</spec> 


	<!-- GAME INFO END -->



	<!--============================================================================>
	<                       	Configuration Alerts                                >
	<=============================================================================-->

	<!-- Block unsupported Ubuntu and SteamOS distributions -->
	<spec>
		<uuid>LnxDistributionUnsupported</uuid>
		<conditions>
			<not>
				<!-- Ubuntu version must be 18.04 or newer -->
				<OS_distribution><is>ubuntu</is></OS_distribution>
				<OS_distribution_version_major><more_or_equal>18</more_or_equal></OS_distribution_version_major>
			</not>
			<not>
				<!-- SteamOS version must be 2 or more -->
				<OS_distribution><is>steamos</is></OS_distribution>
				<OS_distribution_version_major><more_or_equal>2</more_or_equal></OS_distribution_version_major>
			</not>
		</conditions>
		<alert stock_id="LnxDistributionUnsupported">
			<replace>
				<from>#{faq_section}</from>
				<to>#i_linux_distros</to>
			</replace>
		</alert>
		<ignore_if_set>SkipOSWarnings</ignore_if_set>
	</spec>

	<!-- Warn about governors other than the performance governor -->
	<spec>
		<uuid>LnxCPUGovernorSubOptimal</uuid>
		<conditions>
			<not><cpu_governor><is>performance</is></cpu_governor></not>
		</conditions>
		<alert stock_id="LnxCPUGovernorSubOptimal">
			<replace>
				<from>#{faq_section}</from>
				<to>#i_linux_cpu_governor</to>
			</replace>
		</alert>
	</spec>

	<!-- Warn if the radeon kernel module is being used rather than amdgpu -->
	<!-- Always warn -->
	<spec>
		<conditions>
			<GPU_driver_provider><is>mesa</is></GPU_driver_provider>
			<GPU_driver_kernel_module><is>radeon</is></GPU_driver_kernel_module>
		</conditions>
		<alert stock_id="LnxGraphicsKernelDriverUnsupported">
			<replace>
				<from>#{faq_section}</from>
				<to>#i_amd_200_300_radeon_kernel_blacklist</to>
			</replace>
		</alert>
	</spec>

	<!-- Check driver versions -->
	<spec>
		<uuid>DriverOrHardwareUnsupported</uuid>
		<conditions>
			<or>
				<!-- >= Mesa 19.0.1 -->
				<and>
					<GPU_vendor><is>amd</is></GPU_vendor>
					<vulkan_driver_version>
						<less>
							<major>19</major>
							<minor>0</minor>
							<patch>1</patch>
						</less>
					</vulkan_driver_version>
				</and>

				<!-- Nvidia >= 418.56 -->
				<and>
					<GPU_vendor><is>nvidia</is></GPU_vendor>
					<vulkan_driver_version>
						<less>
							<major>418</major>
							<minor>56</minor>
						</less>
					</vulkan_driver_version>
				</and>

				<!-- Only AMD and Nvidia are supported -->
				<and>
					<not><GPU_vendor><is>amd</is></GPU_vendor></not>
					<not><GPU_vendor><is>nvidia</is></GPU_vendor></not>
				</and>

				<!-- AMDVLK/GPU-PRO not supported -->
				<and>
					<GPU_vendor><is>amd</is></GPU_vendor>
					<GPU_driver_provider><is>proprietary</is></GPU_driver_provider>
				</and>
				<and>
					<GPU_vendor><is>amd</is></GPU_vendor>
					<GPU_driver_provider><is>amdvlk</is></GPU_driver_provider>
				</and>

				<!-- Nvidia OS is not supported -->
				<!-- This doesn't exist for Vk yet, but let's future proof -->
				<and>
					<GPU_vendor><is>nvidia</is></GPU_vendor>
					<GPU_driver_provider><is>mesa</is></GPU_driver_provider>
				</and>

				<!-- AMD GCN Gen 1/2 are not supported -->
				<stock id="amd_gen_1"/>
				<stock id="amd_gen_2"/>
			</or>
		</conditions>
		<alert stock_id="LnxGraphicsDriverUnsupported">
			<replace>
				<from>#{faq_section}</from>
				<to>#i_linux_graphics_drivers</to>
			</replace>
		</alert>
		<ignore_if_set>SkipDriverWarnings</ignore_if_set>
	</spec>

	<!-- Complain if Vulkan is missing -->
	<spec>
		<conditions>
			<Vulkan_api_version><equal>0</equal></Vulkan_api_version>
		</conditions>
		<alert stock_id="VulkanSupportRequired">
			<replace>
				<from>#{faq_section}</from>
				<to>#i_linux_vulkan_required</to>
			</replace>
		</alert>
	</spec>



	<!--============================================================================>
	<                       General Configuration                                   >
	<=============================================================================-->

	<!-- AMD configuration -->
	<spec>
		<uuid>AMDConfig</uuid>
		<per-renderer/>
		<conditions>
			<GPU_vendor><is>amd</is></GPU_vendor>
		</conditions>

		<regkey>
			<!-- Improves performance for AMD GPUs -->
			<value name="DisableDynamicPoolGPUCopy" type="integer">1</value>
		</regkey>
	</spec>

	<!-- NVIDIA configuration -->
	<spec>
		<uuid>NVIDIAConfig1.0b2</uuid>
		<per-renderer/>
		<conditions>
			<GPU_vendor><is>nvidia</is></GPU_vendor>
		</conditions>

		<regkey>
			<value name="EnableCopyQueues" type="integer">1</value>
		</regkey>

		<regkey path="Software\IndirectX\Direct3D\Config">
			<value name="VulkanMemoryResidencyTransferQueue" type="integer">1</value>
			<value name="VulkanTransferQueueCount" type="integer">1</value>
		</regkey>
	</spec>

	<!-- NVIDIA low VRAM configuration -->
	<spec>
		<uuid>NVIDIALowVRAMConfig</uuid>
		<per-renderer/>
		<conditions>
			<GPU_vendor><is>nvidia</is></GPU_vendor>
			<VRAM><less>3000000000</less></VRAM>
		</conditions>

		<regkey>
			<value name="MaxHeapPooledAllocSize" type="integer">131072</value>
		</regkey>
	</spec>

	<!-- NVIDIA Kepler configuration -->
	<spec>
		<uuid>NVIDIAKeplerConfig</uuid>
		<per-renderer/>
		<conditions>
			<stock id="nvidia_kepler" />
		</conditions>

		<regkey>
			<value name="AvoidR16FloatRWUAV" type="integer">1</value>
			<value name="AvoidR11G11B10FloatRWUAV" type="integer">1</value>
		</regkey>
	</spec>

	<!-- Intel configuration -->
	<spec>
		<uuid>IntelConfig</uuid>
		<per-renderer/>
		<conditions>
			<GPU_vendor><is>intel</is></GPU_vendor>
		</conditions>

		<regkey>
			<value name="AvoidR16FloatRWUAV" type="integer">1</value>
			<value name="AvoidR11G11B10FloatRWUAV" type="integer">1</value>
		</regkey>
	</spec>

	<!-- Lowest Hardware Specifications -->
	<spec>
		<conditions>
			<!-- No conditions, all hardware maps to these settings by default -->
		</conditions>
		<uuid>Lowest_Default</uuid>
		<per-renderer/>

		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider">
			<value name="FirstRun" type="integer">1</value>
		</regkey>
		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics\Defaults">
			<value name="Preset" type="integer">0</value>
			<value name="AA" type="integer">0</value>
		</regkey>
		<regkey>
			<value name="ScreenW" type="integer">1280</value>
			<value name="ScreenH" type="integer">720</value>
		</regkey>
	</spec>

	<!-- Low Hardware Specifications -->
	<spec>		
		<conditions>
			<!-- VRAM is >= 2GB -->
			<VRAM><more>2000000000</more></VRAM>
			<!-- RAM is >= 6GB -->
			<RAM><more>5500000000</more></RAM>
			<!-- CPU is > 2.5 GHz -->
			<CPU_speed_MHz><more>2500</more></CPU_speed_MHz>
			<!-- CPU Cores is 4 or more -->
			<CPU_cores><more>3</more></CPU_cores>
			<not><GPU_vendor><is>intel</is></GPU_vendor></not>
		</conditions>
		<uuid>Low_Default</uuid>
		<per-renderer/>

		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics\Defaults">
			<value name="Preset" type="integer">1</value>
			<value name="AA" type="integer">0</value>
		</regkey>
		<regkey>
			<value name="ScreenW" type="integer">1280</value>
			<value name="ScreenH" type="integer">720</value>
		</regkey>
	</spec>

	<!-- Medium Hardware Specifications -->
	<spec>
		<conditions>
			<!-- VRAM is >= 2GB -->
			<VRAM><more>2000000000</more></VRAM>
			<!-- Lower for chips that won't cope -->
			<not><GPU_vendor><is>intel</is></GPU_vendor></not>
			<not>
				<GPU_vendor><is>nvidia</is></GPU_vendor>
				<or>
					<!-- These have 2GB configurations -->
					<GPU_renderer><contains>GT 710</contains></GPU_renderer>
					<GPU_renderer><contains>GT 720</contains></GPU_renderer>
					<!-- These have 4GB configurations -->
					<GPU_renderer><contains>GT 730</contains></GPU_renderer>
					<GPU_renderer><contains>GT 740</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 745</contains></GPU_renderer>
					<GPU_renderer><contains>840M</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 850M</contains></GPU_renderer>
				</or>
			</not>
			<!-- RAM is >= 8GB -->
			<RAM><more>7500000000</more></RAM>
			<!-- CPU is > 2.8 GHz -->
			<CPU_speed_MHz><more>2800</more></CPU_speed_MHz>
			<!-- CPU Cores is 4 or more -->
			<CPU_cores><more>3</more></CPU_cores>
		</conditions>
		<uuid>Medium_Default</uuid>
		<per-renderer/>

		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics\Defaults">
			<value name="Preset" type="integer">2</value>
			<value name="AA" type="integer">2</value>
		</regkey>
		<regkey>
			<value name="ScreenW" type="integer">1280</value>
			<value name="ScreenH" type="integer">720</value>
		</regkey>
	</spec>

	<!-- High Hardware Specifications -->
	<spec>
		<conditions>
			<!-- VRAM is >= 4GB -->
			<VRAM><more>4000000000</more></VRAM>
			<!-- Lower for chips that won't cope -->
			<not><GPU_vendor><is>intel</is></GPU_vendor></not>
			<not>
				<GPU_vendor><is>nvidia</is></GPU_vendor>
				<or>
					<!-- These have 4GB configurations that need to be lowered-->
					<GPU_renderer><contains>GT 730</contains></GPU_renderer>
					<GPU_renderer><contains>GT 740</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 745</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 750</contains></GPU_renderer>
					<GPU_renderer><contains>840M</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 850M</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 950</contains></GPU_renderer>
					<GPU_renderer><contains>GTX 960</contains></GPU_renderer>
				</or>
			</not>
			<!-- RAM is >= 8GB -->
			<RAM><more>7500000000</more></RAM>
			<!-- CPU is > 2.9 GHz -->
			<CPU_speed_MHz><more>2900</more></CPU_speed_MHz>
			<!-- CPU Cores is 6 or more -->
			<CPU_cores><more>5</more></CPU_cores>
		</conditions>
		<uuid>High_Default</uuid>
		<per-renderer/>

		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics\Defaults">
			<value name="Preset" type="integer">3</value>
			<value name="AA" type="integer">2</value>
		</regkey>
		<regkey>
			<value name="ScreenW" type="integer">1920</value>
			<value name="ScreenH" type="integer">1080</value>
		</regkey>
	</spec>

	<!-- Highest Hardware Specifications -->
	<spec>
		<conditions>
			<!-- VRAM is >= 8GB -->
			<VRAM><more>7500000000</more></VRAM>
			<!-- Lower for chips that won't cope -->
			<not><GPU_vendor><is>intel</is></GPU_vendor></not>
			<!-- RAM is >= 12GB -->
			<RAM><more>11500000000</more></RAM>
			<!-- CPU is > 3.0 GHz -->
			<CPU_speed_MHz><more>3000</more></CPU_speed_MHz>
			<!-- CPU Cores is 8 or more -->
			<CPU_cores><more>7</more></CPU_cores>
		</conditions>
		<uuid>Highest_Default</uuid>
		<per-renderer/>

		<regkey path="Software\Eidos Montreal\Shadow of the Tomb Raider\Graphics\Defaults">
			<value name="Preset" type="integer">4</value>
			<value name="AA" type="integer">2</value>
		</regkey>
		<regkey>
			<value name="ScreenW" type="integer">1920</value>
			<value name="ScreenH" type="integer">1080</value>
		</regkey>
	</spec>
	
</gameinfo>
